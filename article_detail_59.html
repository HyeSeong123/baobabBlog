<!DOCTYPE html>
<html lang="ko">

<head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async
	src="https://www.googletagmanager.com/gtag/js?id=G-1390PY4PW5"></script>
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag() {
		dataLayer.push(arguments);
	}
	gtag('js', new Date());

	gtag('config', 'G-1390PY4PW5');
</script>
<!--  구글 애널리틱스 -->
<script async
	src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6509950454554885"
	crossorigin="anonymous"></script>

<!-- 구글 서치콘솔 -->

<!-- 네이버 소유확인 -->
<meta name="naver-site-verification"
	content="940897f74ece01b807cc2353b484a9d9ad2d892a" />

<title>스프링(Spring) 구동 순서-바오밥 블로그</title>

<meta charset="UTF-8">

<!-- SEO 태그 -->
<link rel="canonical" href="https://blog.baobab612.com" />
<meta name="keywords" content="HTML, CSS, JS, JavaScript, Server, DataBase, Mysql, Java, CentOS" />
<meta name="description" content="스프링Spring 구동 순서" />
<meta name="classification" content="스프링Spring 구동 순서" />

<!-- OPENGRAPH -->
<meta property="og:type" content="website" />
<meta property="og:title" content="스프링(Spring) 구동 순서-바오밥 블로그" />
<meta property="og:description" content="스프링Spring 구동 순서" />
<meta property="og:image" content="https://blog.baobab612.com/img/seo_banner.jpg" />
<meta property="og:url" content="https://blog.baobab612.com" />
<!-- TWITTER -->
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="스프링(Spring) 구동 순서" />
<meta name="twitter:site" content="@스프링(Spring) 구동 순서" />
<meta name="twitter:creator" content="@스프링(Spring) 구동 순서" />
<meta name="twitter:image" content="https://blog.baobab612.com/img/seo_banner.jpg">
<meta name="twitter:description" content="스프링Spring 구동 순서" />
<!-- GOOGLE+ -->
<meta itemprop="headline" content="스프링(Spring) 구동 순서-바오밥 블로그" />
<meta itemprop="name" content="스프링(Spring) 구동 순서" />
<meta itemprop="description" content="스프링Spring 구동 순서" />
<meta itemprop="image" content="https://blog.baobab612.com/img/seo_banner.jpg" />

<meta name="viewport"
	content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1, user-scalable=no">
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css">
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<!-- 토스트 UI 에디터, 자바스크립트 코어 -->
<script
	src="https://uicdn.toast.com/editor/2.5.2/toastui-editor-all.min.js"
	defer></script>
<!-- 코드 미러 라이브러리 추가, 토스트 UI 에디터에서 사용됨 -->
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.3/codemirror.min.css" />
<!-- 토스트 UI 에디터, CSS 코어 -->
<link rel="stylesheet"
	href="https://uicdn.toast.com/editor/2.5.2/toastui-editor.min.css" />
<!-- 토스트 UI 에디터, 신택스 하이라이트 플러그인 추가 -->
<script
	src="https://uicdn.toast.com/editor-plugin-code-syntax-highlight/1.0.0/toastui-editor-plugin-code-syntax-highlight.min.js"
	defer></script>
<!-- GSAP 플러그인 -->
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/ScrollTrigger.min.js"></script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js"></script>

<!-- 구글 폰트 -->
<link rel="preconnect" href="https://fonts.gstatic.com">
<link
	href="https://fonts.googleapis.com/css2?family=Pattaya&display=swap"
	rel="stylesheet">
<link rel="preconnect" href="https://fonts.gstatic.com">
<link
	href="https://fonts.googleapis.com/css2?family=Lora:wght@500&display=swap"
	rel="stylesheet">
<link rel="preconnect" href="https://fonts.gstatic.com">
<link
	href="https://fonts.googleapis.com/css2?family=Shadows+Into+Light&display=swap"
	rel="stylesheet">
<!-- 구글 폰트 -->

<link rel="icon" href="https://blog.baobab612.com/img/favicon.ico" />
<!-- 하이라이트 라이브러리 추가, 토스트 UI 에디터에서 사용됨 -->
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.4.1/highlight.min.js"></script>
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.4.1/styles/default.min.css">

<link rel="stylesheet" href="main.css">
<script src="app.js" defer></script>
</head>

<body>
	<div class="body-content con-min-width">
		
		<header class="top-bar con height-100p">
			<div class="flex flex-ai-c top-menu">
				<section class="top-bar__logo flex flex-jc-c flex-ai-c height-100p">
					<a href="index.html" class="logo flex flex-ai-c">
						<span class="img-box logo_img">
							<img src="img/logo.png" alt="이미지 첨부" />
						</span>
						<span class="logo__span logo__W">
							W
							<span class="logo__span logo__1 logo__hide">eb</span>
						</span>

						<span class="logo__span logo__P">
							P
							<span class="logo__span logo__2 logo__hide">rogram</span>
						</span>

						<span class="logo__span logo__B">
							B
							<span class="logo__span logo__3 logo__hide">log</span>
						</span>

					</a>
				</section>

				<div class="flex-grow-1"></div>
				<!-- 탑바 PC 버전 -->
				<div class="top-menu__menu top-menu__pc-menu flex height-100p">
					<ul class="flex height-100p">
						<li><a href="article_list_java_1.html">Web Programs</a><ul><li><a href="article_list_java_1.html">Java</a></li><li><a href="article_list_js_1.html">JavaScript</a></li><li><a href="article_list_spring_1.html">Spring</a></li><li><a href="article_list_HC_1.html">HTML/CSS</a></li><li><a href="article_list_php_1.html">PHP</a></li></ul></li><li><a href="article_list_mysql_1.html">DataBase</a><ul><li><a href="article_list_mysql_1.html">Mysql</a></li><li><a href="article_list_oracle_1.html">Oracle</a></li></ul></li><li><a href="article_list_centos_1.html">Server</a><ul><li><a href="article_list_centos_1.html">CentOs</a></li></ul></li><li><a href="article_list_daily_1.html">Free</a><ul><li><a href="article_list_daily_1.html">Daily</a></li></ul></li>
					</ul>
				</div>

				<div class="hamburger__cover flex">
					<section class="top-bar__hamburger">
						<span></span>
						<span></span>
						<span></span>
					</section>
				</div>
			</div>
			<!-- 탑바 모바일 버전 -->
			<div class="top-menu__menu top-menu__mobile-menu">
				<ul class="flex flex-column">
					<li><a style="cursor:pointer;"><span>Web Programs</span><span class="arrow-down"></span></a><ul><li><a href="article_list_java_1.html">Java</a></li><li><a href="article_list_js_1.html">JavaScript</a></li><li><a href="article_list_spring_1.html">Spring</a></li><li><a href="article_list_HC_1.html">HTML/CSS</a></li><li><a href="article_list_php_1.html">PHP</a></li></ul></li><li><a style="cursor:pointer;"><span>DataBase</span><span class="arrow-down"></span></a><ul><li><a href="article_list_mysql_1.html">Mysql</a></li><li><a href="article_list_oracle_1.html">Oracle</a></li></ul></li><li><a style="cursor:pointer;"><span>Server</span><span class="arrow-down"></span></a><ul><li><a href="article_list_centos_1.html">CentOs</a></li></ul></li><li><a style="cursor:pointer;"><span>Free</span><span class="arrow-down"></span></a><ul><li><a href="article_list_daily_1.html">Daily</a></li></ul></li>
				</ul>
			</div>
		</header><main class="detail__main">

	<section class="detail__main-cover flex">
		<div class="blackBoard">
			<div class="blackBoard-outLine">
				<div class="blackBoard-inner flex flex-column">
					<section class="numAndTitle flex">
						<div class="detail__article-num">59.</div>
						<div class="detail__article-title">스프링(Spring) 구동 순서</div>
					</section>
					<div class="detail__article-regDate">22년04월08일</div>
					<div class="detail__article-content"><script type="x-template">
전자정부 프레임워크 프로젝트를 하던 중 구동원리와 순서부터 알아야되겠다고 생각되어 쓰는 글 입니다.

## 1. 웹이 실행되면 Tomcat(WAS)에 의해 web.xml이 로딩 된다.
### web.xml이란
- DD(Deployment Descriptor)라고 불리며, Web Application의 설정파일이다.
- 크게 DispatcherServlet, ContextLoaderListener,Filter 설정을 하게 된다.
#### DispathcerServlet
- 클라이언트의 요청을 처리한다.
- 순서
1. 클라이언트의 요청을 처리해줄 컨트롤러를 찾는다.
2. 컨트롤러를 실행시킨다.
3. 클라이언트에 보여질 View를 찾는다.
4. 응답 데이터와 View를 클라이언트에게 전달한다.
- 요청을 처리할 컨트롤러를 찾는 일은 Handler Mapping라는 객체가 처리한다.
이 객체는 클라이언트의 요청 경로를 이용해 컨트롤러를 검색 후, DispatcherServlet에 리턴한다.
컨트롤러를 실행시키는 일은 Handler Adapter라는 객체가 한다.
- @Controller 어노테이션을 이용해 구현한 컨트롤러 뿐만 아니라, Controller 인터페이스를 구현한
컨트롤러, 특수 목적으로 사용되는 HttpRequestHandler 인터페이스를 구현한 클래스를 동일한
방식으로 실행할 수 있게 만들어졌다.
- Controller가 실행되면 개발자가 구현한 비즈니스 로직을 거쳐 응답 데이터가 추출된다.
실행된 Controller는 리턴할 데이터와 View를 Handler Adapter에게 리턴한다.
- Handler Adapter는 데이터와 view를 ModelAndView 형태로 DispatcherServlet에게 리턴한다.
view는 viewResolver 객체를 설정하여 prefix,suffix를 참조하여
controller에서 리턴한 view 이름을 찾아 dispatcher Servlet에게 리턴한다.
- 최종적으로 viewResolver가 리턴한 View 객체에 응답 데이터를 넣어 클라이언트에게 리턴한다.

#### ContextLoaderListener
- 모든 서블릿이 공통적으로 가져야할 설정들 즉, Servlet Context 단위가 아닌
Application 단위 설정을 ContextLoaderListener 객체가 처리한다.
- ContextLoaderListener 클래스는 ServletContextListener 인터페이스를 구현하고 있으며,
ApplicationContext를 생성하는 역할을 수행한다.
- ContextLoaderListener 클래스느 Servlet의 생명주기를 관리해준다.
- Servlet을 사용하는 시점에 서블릿 컨텍스트에 ApplicationContext를 등록, Servlet이 종료되는 시점에 ApplicationContext를 삭제한다.
#### Filter
- 스프링 시큐리티 필터가 적용 됐다면, 인가 및 인증 처리를 먼저 처리하고 인코딩 필터가 적용되어 있다면
클라이언트의 요청데이터를 인코딩하는 작업이 처리된 후 Dispatcher Serlvet에게 필터링 된 데이터가 전달된다. 

## 2. web.xml에 등록되어 있는 ContextLoaderListener 생성
- 서블릿 컨테이너가 파일을 읽어서 구동될 때, ContextLoaderListener이 자동으로 메모리에 생성된다.

## 3. 생성된 ContextLoaderListener는 root-context.xml을 로딩한다.
- ContextLoaderListener 객체는 src/main/resources 소스 폴더에 있는 applicationContext.xml 파일을 로딩하여
스프링 컨테이너를 구동하는데 이를 Root 컨테이너라고 한다.
- 원래 ContextLoaderListener가 WEB-INF 밑에 있는 파일을 먼저 로딩하도록 됐으나 유지보수 상의 관계로
src/main/resources 에 파일을 넣어 놓는 경우가 많다. 때문에 src/main/resources에 있는 파일을 가져다
로딩시키려면 web.xml에 -param으로 설정해서 사용한다.

## 4. root-context.xml에 등록되어 있는 Spring Container가 구동
- root-context.xml에는 주로 view 자원을 제외한 공통 bean을 설정한다. (web 관련 bean 제외)
- 예시로 spring properties 파일을 로컬과 서버용으로 구분지을 때 property value를 설정해준다.
(주로 DataSource, repository 설정을 주로한다)
#### root-context란
- view와 관련되지 않은 객체를 정의한다.
- Service, Repository(DAO), DB등 비즈니스 로직과 관련된 설정을 해준다.

## 5. 클라이언트로부터 웹 애플리케이션 요청이 옴
- (최초의 클라이언트 요청에 의해 DispathcerSerlet 생성)

## 6. DispatcherServlet이 생성됨
- DispathcerServlet 객체는 WEB-INF/config 폴더에 있는 servlet-context.xml 파일을 로딩하여
두번째 스프링 컨테이너를 구동한다. 이 두 번째 스프링 컨테이너가 Controller 객체를 메모리에 생성한다.
- DispatcherServlet은 FrontController의 역할을 수행. 클라이언트로부터 요청 온 메시지를 분석하여
알맞은 Controller에 전달하고 응답 받아 요청에 따른 응답을 어떻게 할지 정한다.

## 7. DispatcherServlet은 servlet-context.xml을 Loading

## 8. 두번째 Spring Container 구동되며, 응답에 맞는 Controller들이 동작한다.
<br/><br/>
# 정리
## 1. 클라이언트가 요청을 보낸다.
## 2. 클라이언트의 요청을 DispatcherServlet이 가로챈다
## 3. 가로챈 요청을 HandlerMapping에게 보내 해당 요청을 처리할 Controller를 찾는다
## 4. 실제 요청을 정리 한다.
## 5. ViewResolver를 통해 view 화면을 찾는다.
## 6. 찾은 view 화면을 View로 보내면 이 결과를 다시 DispatcherServlet에 보내고, <br/> dispatcherServlet은 클라이언트에게 결과를 전송한다.

<br/>

자료 참조 :
<a href="https://devpad.tistory.com/24" target="_blank">개발새발-Spring MVC 프로젝트의 기본 구조와 실행 순서</a>
<a href="https://yoo-hyeok.tistory.com/139" target="_blank">유혁의 개발 스토리 - Spring Framework 구동순서 완벽정리</a>
<a href="https://javannspring.tistory.com/231" target="_blank">JiGyeong's study room - Spring Framework 실행순서</a>
<a href="https://tlatmsrud.tistory.com/35" target="_blank">영암사는 승경이네 - web.xml 이란?</a>
</script>

<div class="viewer"></div></div>

				</div>
			</div>



			<div class="blackBoard-bottom">
				<div class="blackBoard-img flex flex-jc-end">
					<span class="img-box eraser">
						<img src="img/eraser.png" alt="">
					</span>
					<span class="img-box chalks">
						<img src="img/chalks.png" alt="">
					</span>
				</div>
			</div>
			<div class="blackBoard-shadow"></div>
		</div>
	</section>

	<section class="article-list-box">
		<div class="article-list-box__cover flex flex-column flex-ai-c">
			<table border="1">
				<thead>
					<tr>
						<th>
						</td>
						<th class="sample_width">제목
						</td>
						<th>작성자
						</td>
						<th>작성일
						</td>
					</tr>
				</thead>

				<tbody><tr class="selected" onClick=location.href="article_detail_59.html"><td class="articleList_num">🗒</td><td class="articleList_title"><span>스프링(Spring) 구동 순서</span></td><td class="articleList_writer"><span>방혜성</span></td><td class="articleList_regDate"><span>2022-04-08일</span></td></tr><tr onClick=location.href="article_detail_53.html"><td class="articleList_num">📖</td><td class="articleList_title"><span>로컬프로젝트 외부로 공유하기(전자정부)</span></td><td class="articleList_writer"><span>방혜성</span></td><td class="articleList_regDate"><span>2021-12-23일</span></td></tr><tr onClick=location.href="article_detail_51.html"><td class="articleList_num">📱</td><td class="articleList_title"><span>전자정부프레임워크 콘솔창에 sql 결과 띄우기</span></td><td class="articleList_writer"><span>방혜성</span></td><td class="articleList_regDate"><span>2021-11-18일</span></td></tr>
				</tbody>
			</table>

		</div>
	</section>

	<div class="article-detail__comment">
		<div id="disqus_thread"></div>
		<script>
				var disqus_config = function () {
			        this.page.url = 'https://blog.baobab612.com/article_detail_59.html';
			        this.page.identifier = 'article_detail_59.html';
			    };
			(function() { // DON'T EDIT BELOW THIS LINE
				var d = document, s = d.createElement('script');
				s.src = 'https://baobabblog210721.disqus.com/embed.js';
				s.setAttribute('data-timestamp', +new Date());
				(d.head || d.body).appendChild(s);
			})();
		</script>
		<noscript>
			Please enable JavaScript to view the
			<a href="https://disqus.com/?ref_noscript">comments powered by
				Disqus.</a>
		</noscript>
	</div>

	<nav class="btn_up_box flex flex-ai-c flex-jc-c">
		<div>
			<i class="fas fa-chevron-up"></i>
		</div>
	</nav>

</main>        <footer class="footer__cover flex flex-ai-c">

            <!--  구글 애널리틱스 -->
	
            <section class="footer__icon">
                <a href="https://github.com/HyeSeong123" target="_blank">
                    <span class="icon-git"><i class="fab fa-github-square"></i></span>
                </a>
                <a href="https://www.instagram.com/baobab.0612/" target="_blank">
                    <span class="icon-insta"><i class="fab fa-instagram-square"></i></span>
                </a>
                <a href="https://blog.naver.com/baobab0612" target="_blank">
                    <span class="icon-blog"><i class="fab fa-blogger"></i></span>
                </a>
            </section>

            <section class="footer__host flex flex-jc-end">
                <div>
                    <span>Copyright 2021 Baobab. All Right Reserved</span>
                    <span>B a o b a b</span>
                </div>
            </section>

        </footer>
    </div>
    
    <script>
	    $(window).on('load', function () {
	    	$('.adsbygoogle').each(function () {
	   			(adsbygoogle = window.adsbygoogle || []).push({});
	    	});
	    });
	</script>
</body>
</html>
